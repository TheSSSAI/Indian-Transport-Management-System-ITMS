[{'name': 'TMS - System Health & Performance (SRE)', 'description': 'Monitors the health of the EKS cluster, application components (Odoo, FastAPI), and underlying AWS services. Used by SREs and Admins for incident response and performance tuning.', 'type': 'infrastructure_application', 'panels': [{'title': 'System SLOs Overview', 'type': 'multi_stat', 'metrics': ['probe_success{job="blackbox-http"}', 'histogram_quantile(0.95, sum(rate(http_request_duration_seconds_bucket[5m])) by (le))', 'histogram_quantile(0.95, sum(rate(gps_event_processing_latency_seconds_bucket[5m])) by (le))']}, {'title': 'Application Error Rate (5xx)', 'type': 'gauge', 'metrics': ['sum(rate(http_requests_total{status_code=~"5.."}[5m])) / sum(rate(http_requests_total[5m]))']}, {'title': 'EKS Pod CPU & Memory Utilization', 'type': 'line_chart', 'metrics': ['container_cpu_usage_seconds_total', 'container_memory_working_set_bytes']}, {'title': 'GPS Ingestion Pipeline Health', 'type': 'stat', 'metrics': ['rabbitmq_queue_messages{queue="q.tms.location_updates"}', 'rabbitmq_queue_messages{queue="q.tms.location_updates.dlq"}']}, {'title': 'Database Performance (RDS)', 'type': 'line_chart', 'metrics': ['aws_rds_cpuutilization_average', 'aws_rds_database_connections_average']}, {'title': 'External API Health (GSP)', 'type': 'line_chart', 'metrics': ['rate(external_api_requests_total{dependency="gsp",code=~"5.."}[5m])']}]}, {'name': 'TMS - Operational Dashboard', 'description': 'Real-time view of core logistics operations for Dispatch Managers and Admins, as specified in REQ-REP-002.', 'type': 'operational', 'panels': [{'title': 'Key Operational Metrics', 'type': 'multi_stat', 'metrics': ['tms_trips_by_status{status="In-Transit"}', 'tms_trips_by_status{status="Delayed"}']}, {'title': 'Vehicle Status', 'type': 'pie_chart', 'metrics': ['tms_vehicle_status_count']}, {'title': 'Active Alerts Panel', 'type': 'table', 'metrics': ['ALERTS{severity=~"critical|high", alertstate="firing"}']}, {'title': 'Live Vehicle Tracking', 'type': 'map_visualization', 'metrics': ['tms_vehicle_current_location']}, {'title': 'Trips Created Per Hour', 'type': 'bar_chart', 'metrics': ['sum(rate(tms_trip_creations_total[1h])) by (customer_id)']}, {'title': 'Recent Critical Trip Events', 'type': 'log_panel', 'metrics': ["OpenSearch query for logs where level='error' AND eventType=~'Accident|Repair'"]}]}, {'name': 'TMS - Financial Dashboard', 'description': 'Provides key financial KPIs for Finance Officers and Admins, as specified in REQ-REP-002 and REQ-REP-001.', 'type': 'financial', 'panels': [{'title': 'Financial Summary (MTD)', 'type': 'multi_stat', 'metrics': ['tms_pending_payment_collections_amount', 'tms_revenue_total{range="mtd"}', 'tms_expenses_total{range="mtd"}']}, {'title': 'Revenue vs. Expense Trend (Last 30 Days)', 'type': 'line_chart', 'metrics': ['sum_over_time(tms_revenue_total[1d])', 'sum_over_time(tms_expenses_total[1d])']}, {'title': 'Outstanding Invoices by Age', 'type': 'bar_chart', 'metrics': ['tms_outstanding_invoices_by_age_bucket']}, {'title': 'Top 10 Customers by Revenue (YTD)', 'type': 'table', 'metrics': ['topk(10, sum by (customer_name) (tms_revenue_total{range="ytd"}))']}]}]

