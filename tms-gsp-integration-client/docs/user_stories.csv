"story_id","epic","title","user_role","description","business_value","priority","story_points","dependencies","acceptance_criteria","technical_tasks","definition_of_done"
"US-001","User and Access Management","Admin creates a new user account with a primary role","Admin","As an Admin, I want to create a new user account by providing their name, email, and assigning a primary role, so that I can securely grant a new employee the appropriate level of system access to perform their job duties.","Enables secure and controlled onboarding of new employees by provisioning role-based access to the system, ensuring users have the correct permissions from their first login.","Must Have","2","[]","[{""scenario"":""Successful creation of a new user with a primary role"",""given"":""I am logged in as an Admin and am on the 'Create User' screen"",""when"":""I enter a unique, valid email address, the user's full name, and select a 'Primary Role' (e.g., 'Dispatch Manager')"",""then"":""The system creates the new user account and automatically assigns them to the security group corresponding to the 'Dispatch Manager' role.""},{""scenario"":""Attempt to create a user with a non-unique email address"",""given"":""a user with the email 'test@example.com' already exists"",""when"":""I attempt to create a new user with the email 'test@example.com'"",""then"":""the system prevents creation and displays a clear error message: 'A user with this email address already exists.'""},{""scenario"":""Attempt to create a user with missing required information"",""given"":""I am on the 'Create User' screen"",""when"":""I attempt to save the new user without providing a name or email"",""then"":""the system prevents the record from being saved and visually indicates which mandatory fields are missing.""}]","[""Extend Odoo 'res.users' model and view to include a 'Primary Role' selection field."",""Implement logic in 'create' and 'write' methods to manage 'res.groups' membership based on the selected role."",""Define base security groups and initial access rights (corresponds to WI-002).""]","[""All acceptance criteria are met and validated in the staging environment."",""Code is peer-reviewed and merged into the main development branch."",""Unit tests for role assignment logic achieve >80% coverage."",""Security is validated to ensure only Admins can create users.""]"
"US-004","User and Access Management","Admin assigns a primary role to a user","Admin","As an Admin, I want to assign a single, predefined primary role (like Dispatch Manager, Finance Officer, or Driver) to a user account, so that I can efficiently manage access control and ensure each user has the appropriate permissions to perform their job duties according to the principle of least privilege.","Enforces a secure and manageable Role-Based Access Control (RBAC) system, simplifying user onboarding and role changes.","Must Have","2","[""US-001"",""US-070""]","[{""scenario"":""Assign a primary role to a user"",""given"":""I am logged in as an Admin and am viewing the user management form for an existing user"",""when"":""I select a primary role, for example 'Dispatch Manager', and save the record"",""then"":""the system saves the change and the user's permissions are immediately updated to reflect the 'Dispatch Manager' role's access rights.""},{""scenario"":""Admin attempts to change their own role to a non-Admin role"",""given"":""I am logged in as an Admin and am editing my own user profile"",""when"":""I attempt to change my 'Primary Role' from 'Admin' to 'Driver' and save"",""then"":""the system prevents the change and displays a validation error: 'Administrators cannot revoke their own admin privileges.'""}]","[""Implement RBAC Security Groups and Base Access Rights (WI-002)"",""Override the `write` method on `res.users` to handle role changes and prevent admin self-demotion.""]","[""All acceptance criteria are met."",""Code is peer-reviewed."",""Unit tests for role-switching logic are implemented and pass."",""Audit trail for role change is verified.""]"
"US-006","Master Data Management","Admin creates a new vehicle record","Admin","As an Admin, I want to create a new vehicle record by entering its key details like truck number, model, capacity, and ownership status, so that the vehicle is officially registered in the system and can be managed, assigned to trips, and tracked.","Establishes the foundational master data for the vehicle fleet, enabling core functionalities like trip assignment, expense tracking, and operational reporting.","Must Have","3","[""US-058"",""US-070""]","[{""scenario"":""Successful creation of a new vehicle record"",""given"":""I am logged in as an Admin and am on the 'Vehicles' list view"",""when"":""I click 'Create', fill in all mandatory fields (Truck Number, Model, Capacity) with valid and unique data, and click 'Save'"",""then"":""a new vehicle record is successfully created and its status defaults to 'Active'.""},{""scenario"":""Attempt to create a vehicle with a duplicate Truck Number"",""given"":""a vehicle with the Truck Number 'KA01AB1234' already exists"",""when"":""I attempt to create a new vehicle with the same Truck Number"",""then"":""the system prevents the save and displays a uniqueness validation error.""}]","[""Create Vehicle Master Model and Views (WI-009)"",""Implement database-level unique constraint on 'Truck Number'.""]","[""All acceptance criteria are met."",""Code is peer-reviewed."",""Unit tests for model constraints are implemented and pass."",""E2E tests for creation and error handling are implemented and pass.""]"
"US-011","Master Data Management","Admin creates a new driver record by extending an HR employee","Admin","As an Admin, I want to create a new driver record by adding driver-specific details (like license information) to an existing HR employee record, so that I can properly onboard drivers into the Transport Management System and make them available for trip assignments.","Enables the creation of a compliant and operational driver pool, which is fundamental for trip assignment and management.","Must Have","2","[]","[{""scenario"":""Successfully designate an existing HR employee as a driver"",""given"":""I am logged in as an Admin and am on the form view of an 'hr.employee' record"",""when"":""I enable a flag 'Is a Driver', enter a valid 'License Number' and a future 'License Expiry Date', and save"",""then"":""the employee record is saved with the driver-specific details and this employee now appears in the list of available drivers for trip assignments.""},{""scenario"":""Driver-specific fields are hidden for non-driver employees"",""given"":""I am an Admin viewing the form of an 'hr.employee' record"",""when"":""the 'Is a Driver' flag is not enabled"",""then"":""the fields for 'License Number' and 'License Expiry Date' are not visible.""}]","[""Extend HR Employee Model for Driver Master (WI-011)"",""Use `attrs` in the XML view to control conditional field visibility.""]","[""All acceptance criteria are met."",""Code is peer-reviewed."",""Integration test confirms the new driver is available for trip assignment."",""Security rules restrict access to the 'Admin' role.""]"
"US-015","Master Data Management","Admin creates a new customer record","Admin","As an Admin, I want to create a new customer record by entering their essential business details, including name, billing address, GSTIN, and contact information, so that the new customer is available for trip planning and accurate invoicing.","Enables new business by onboarding clients into the system and ensures data accuracy for logistics and financial operations.","Must Have","2","[]","[{""scenario"":""Successful creation of a new customer with valid data"",""given"":""the Admin is on the Customer management screen"",""when"":""the Admin fills in all mandatory fields (Customer Name, Billing Address, GSTIN) with valid data and clicks 'Save'"",""then"":""a new customer record is successfully created and defaults to 'Active' status.""},{""scenario"":""Attempt to save a new customer with an invalid GSTIN format"",""given"":""the Admin is on the new customer creation form"",""when"":""the Admin enters a GSTIN that does not match the standard Indian format"",""then"":""the system prevents the record from being saved and displays a clear error message.""}]","[""Extend Partner Model for Customer Master (WI-012)"",""Implement a validation constraint for the GSTIN field format using a regular expression.""]","[""All acceptance criteria are met."",""Code is peer-reviewed."",""Unit tests for GSTIN validation logic are written and pass."",""Security check confirms that access is restricted to authorized roles.""]"
"US-025","Security and Compliance","Admin views the immutable audit trail for critical data changes","Admin","As an Admin, I want to access and filter a detailed, immutable audit trail of all changes made to critical data records, so that I can ensure system security, enforce accountability, and perform forensic analysis for compliance and troubleshooting.","Provides a tamper-proof record of all critical system activities, enhancing security, enabling forensic analysis, ensuring user accountability, and supporting regulatory compliance audits.","Must Have","3","[""US-026"",""US-037"",""US-039""]","[{""scenario"":""Audit log entry for an 'Update' action shows old and new values"",""given"":""a Finance Officer has changed the status of an Invoice from 'Draft' to 'Posted'"",""when"":""I view the details of the corresponding 'Update' log entry in the audit trail"",""then"":""I can clearly see the field that was changed ('status'), the 'Old Value' ('Draft'), and the 'New Value' ('Posted').""},{""scenario"":""Admin attempts to modify or delete an audit log entry"",""given"":""I am logged in as an Admin and am viewing the audit trail"",""when"":""I attempt to edit or delete any log entry"",""then"":""the system must prevent the action, and no 'Edit' or 'Delete' options should be available.""}]","[""Implement Immutable Audit Trail using 'mail.thread' (WI-004)"",""Inherit `mail.thread` and `mail.activity.mixin` in critical models (Trip, Invoice, Payment)."",""Configure specific fields with `tracking=True`.""]","[""All acceptance criteria are met."",""Code is peer-reviewed."",""Integration testing confirms changes to tracked fields are logged."",""Security testing confirms logs cannot be altered by any user, including Admin.""]"
"US-026","Trip Lifecycle Management","Dispatch Manager creates a new trip","Dispatch Manager","As a Dispatch Manager, I want to create a new trip record by selecting a customer, defining the route, and specifying the material details and rate, so that I can formally initiate a transport job and move it into the planning and assignment phase.","Initiates the primary revenue-generating workflow of the system, enabling formal planning, resource allocation, tracking, and subsequent invoicing.","Must Have","5","[""US-015"",""US-019"",""US-020""]","[{""scenario"":""Successful trip creation with all valid manual inputs"",""given"":""I am logged in as a Dispatch Manager on the 'New Trip' form"",""when"":""I select an 'Active' customer, enter Source/Destination, select Material, enter Weight, select a Rate Type, enter a Rate value, and select a future Expected Delivery Date"",""then"":""the system successfully creates a new trip record with an initial status of 'Planned'.""},{""scenario"":""Attempt to save a trip with missing mandatory fields"",""given"":""I am on the 'New Trip' form"",""when"":""I attempt to save the form without selecting a Customer, Source, or Destination"",""then"":""the system prevents the record from being saved and displays a validation message.""}]","[""Create Trip Model and Core Views (WI-015)"",""Implement Trip Creation Business Rules (WI-016)""]","[""All acceptance criteria are met."",""Code is peer-reviewed."",""Unit tests for business logic and validations pass with >80% coverage."",""E2E tests for the happy path and key error conditions are passing.""]"
"US-027","Trip Lifecycle Management","Dispatch Manager assigns an available vehicle and driver to a trip","Dispatch Manager","As a Dispatch Manager, I want to select an available vehicle and an available driver from filtered lists and assign them to a 'Planned' trip so that I can operationalize the trip and move it to the 'Assigned' status.","Enables the transition of a trip from planning to execution, ensures efficient and compliant resource allocation, and prevents operational errors.","Must Have","5","[""US-026"",""US-006"",""US-012""]","[{""scenario"":""Successful assignment of a valid vehicle and driver"",""given"":""I am a Dispatch Manager viewing a trip in 'Planned' status"",""when"":""I select an 'Active' vehicle with sufficient capacity and an 'Active' driver with a valid license, and save"",""then"":""the system links the vehicle and driver to the trip, and the trip's status changes to 'Assigned'.""},{""scenario"":""Attempt to assign a vehicle with insufficient capacity"",""given"":""a trip has a material weight of 25 Tons"",""when"":""I attempt to assign a vehicle with a capacity of only 20 Tons"",""then"":""the system prevents the assignment and displays a clear error message.""}]","[""Implement Trip Creation Business Rules (WI-016)"",""Implement Trip State Transition Logic (WI-017)"",""Develop dynamic domain filters for vehicle and driver selection fields on the trip form.""]","[""All acceptance criteria are met."",""Code is peer-reviewed."",""Unit tests for domain filtering and validation logic are implemented and pass."",""Role-based security is confirmed (only Dispatch Manager/Admin can perform the action).""]"
"US-029","Real-Time Operations Monitoring","Dispatch Manager views the real-time location of vehicles on a map","Dispatch Manager","As a Dispatch Manager, I want to see a real-time map displaying the current location of all my vehicles that are on 'In-Transit' trips so that I can monitor their progress and proactively identify potential delays.","Provides real-time operational awareness, enabling proactive management of logistics, improved on-time delivery rates, and enhanced customer service.","Should Have","8","[""US-027"",""US-049""]","[{""scenario"":""Map displays all 'In-Transit' vehicles upon loading"",""given"":""multiple trips are in 'In-Transit' status with recent GPS data"",""when"":""I navigate to the 'Live Map' view"",""then"":""the map loads and displays a distinct marker for each 'In-Transit' vehicle at its last known location.""},{""scenario"":""Vehicle marker position updates in near real-time"",""given"":""I am viewing the 'Live Map' and an 'In-Transit' vehicle is moving"",""when"":""the system receives a new GPS location update for that vehicle"",""then"":""the corresponding marker on the map moves to the new location without a full page reload, within the 60-second latency requirement.""}]","[""Develop FastAPI microservice for GPS data ingestion."",""Configure RabbitMQ and Odoo consumer for location updates."",""Implement Odoo Map view with an Odoo controller to serve real-time location data.""]","[""All acceptance criteria are met."",""Code is peer-reviewed."",""Integration testing of the full data pipeline (mock GPS to Odoo DB) is completed."",""Performance requirements for data latency and page load are verified.""]"
"US-037","Financial Management & Invoicing","Finance Officer generates a GST-compliant e-invoice for a completed trip","Finance Officer","As a Finance Officer, I want to generate a GST-compliant e-invoice for a completed trip so that I can bill the customer accurately and comply with government tax regulations.","Ensures compliance with Indian GST e-invoicing laws, automates the billing process, and accelerates the payment cycle.","Must Have","13","[""US-015"",""US-026"",""US-052""]","[{""scenario"":""Successful e-invoice generation for a completed trip"",""given"":""a trip is in the 'Completed' state"",""when"":""I click 'Generate Invoice' and then 'Generate E-Invoice'"",""then"":""the system successfully communicates with the GSP API, receives a valid IRN and QR code, updates the trip and invoice statuses to 'Invoiced', and makes the compliant PDF available.""},{""scenario"":""Asynchronous handling of GSP API timeouts"",""given"":""I have submitted an invoice for generation"",""when"":""the synchronous API call to the GSP times out"",""then"":""the system provides immediate feedback that the request is 'Processing' and adds the task to a background queue for automatic retries.""}]","[""Implement GSP API Integration Service (WI-023)"",""Extend Invoice Model for E-Invoicing (WI-024)"",""Configure AWS Secrets Manager for GSP API key (WI-006)""]","[""All acceptance criteria are met in the GSP sandbox environment."",""Code is peer-reviewed."",""Unit test coverage for new business logic is >80%."",""Security review of API key handling is completed.""]"
"US-052","Trip Lifecycle Management","Driver uploads a Proof of Delivery (POD)","Driver","As a Driver, I want to upload a Proof of Delivery (either a photo or a captured e-signature) and enter the recipient's name, so that I can formally confirm the delivery is complete, which updates the trip status to 'Delivered' and initiates the billing process.","Provides auditable proof of service completion, a prerequisite for customer invoicing, and gives real-time operational visibility to the back-office team.","Must Have","5","[""US-046"",""US-047"",""US-049""]","[{""scenario"":""Driver successfully uploads a POD photo"",""given"":""a Driver is viewing an 'In-Transit' trip"",""when"":""the Driver selects 'Upload POD', chooses 'Photo', selects an image, enters the recipient's name, and submits"",""then"":""the system uploads the photo, records the details, changes the trip status to 'Delivered', and displays a success message.""},{""scenario"":""Driver successfully captures an e-signature POD"",""given"":""a Driver is viewing an 'In-Transit' trip"",""when"":""the Driver selects 'Upload POD', chooses 'E-Signature', captures a signature, enters the recipient's name, and submits"",""then"":""the system converts the signature to an image, uploads it, records the details, changes the trip status to 'Delivered', and displays a success message.""}]","[""Implement Proof of Delivery (POD) Upload (WI-020)"",""Integrate a JavaScript signature pad library into an OWL component."",""Implement backend method to handle file upload to S3 and trip status transition.""]","[""All acceptance criteria are met."",""Code is peer-reviewed."",""E2E testing completed successfully in staging."",""UI is reviewed and approved for mobile usability.""]"
"US-070","Security and Compliance","System Enforces Role-Based Access Control (RBAC) for All Data Models","System Administrator","As a System Administrator, I want the system to strictly enforce data access and modification rights based on a user's assigned role, so that sensitive company data is protected and each user can only perform actions relevant to their job function.","Ensures data security and confidentiality, enforces the principle of least privilege, and prevents unauthorized actions.","Must Have","8","[""US-004""]","[{""scenario"":""Dispatch Manager has operational access only"",""given"":""a user is logged in with the 'Dispatch Manager' role"",""when"":""the user accesses the system"",""then"":""the user has full CRUD permissions on Trip records, but cannot access User Management or generate a final customer Invoice.""},{""scenario"":""Driver has restricted, personal access (Record-Level Security)"",""given"":""a user is logged in with the 'Driver' role"",""when"":""the user navigates to the list of Trips"",""then"":""the user can ONLY see Trip records where they are the assigned driver.""}]","[""Implement RBAC Security Groups and Base Access Rights (WI-002)"",""Implement Data Segregation Record Rule for Driver Role (WI-003)"",""Apply `groups` attribute in XML views to conditionally show/hide UI elements.""]","[""All acceptance criteria are met."",""Code is peer-reviewed."",""Automated integration tests verify key access restrictions."",""A manual testing cycle has been completed for each user role.""]"