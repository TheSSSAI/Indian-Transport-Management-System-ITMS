<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chatter/Log Area Component</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* --- DESIGN TOKENS --- */
    :root {
      /* Colors */
      --color-primary-50: #EFF6FF; --color-primary-100: #DBEAFE; --color-primary-200: #BFDBFE; --color-primary-300: #93C5FD; --color-primary-400: #60A5FA; --color-primary-500: #3B82F6; --color-primary-600: #2563EB; --color-primary-700: #1D4ED8; --color-primary-800: #1E40AF; --color-primary-900: #1E3A8A;
      --color-neutral-white: #FFFFFF; --color-neutral-50: #F9FAFB; --color-neutral-100: #F3F4F6; --color-neutral-200: #E5E7EB; --color-neutral-300: #D1D5DB; --color-neutral-500: #6B7280; --color-neutral-700: #374151; --color-neutral-900: #111827;
      --color-semantic-success: #16A34A; --color-semantic-warning: #F59E0B; --color-semantic-error: #DC2626; --color-semantic-info: #0284C7;
      /* Typography */
      --font-family-primary: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      --font-size-sm: 14px; --font-size-base: 16px;
      --font-weight-normal: 400; --font-weight-medium: 500; --font-weight-semibold: 600; --font-weight-bold: 700;
      /* Spacing */
      --space-1: 4px; --space-2: 8px; --space-3: 12px; --space-4: 16px; --space-5: 20px; --space-6: 24px; --space-8: 32px;
      /* Borders */
      --border-radius-sm: 4px; --border-radius-md: 6px; --border-radius-lg: 8px;
      /* Shadows */
      --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
      --shadow-focus-ring: 0 0 0 3px var(--color-primary-200);
    }
    /* --- BASE & LAYOUT STYLES --- */
    *, *::before, *::after { box-sizing: border-box; }
    body { margin: 0; font-family: var(--font-family-primary); font-size: var(--font-size-base); color: var(--color-neutral-900); background-color: var(--color-neutral-white); }
    .showcase { max-width: 800px; margin: var(--space-8) auto; border: 1px solid var(--color-neutral-200); border-radius: var(--border-radius-lg); box-shadow: var(--shadow-sm); }
    .showcase-header { padding: var(--space-4); border-bottom: 1px solid var(--color-neutral-200); background-color: var(--color-neutral-50); }
    .showcase-header h2 { font-size: 1.25rem; margin: 0; }
    .showcase-header p { font-size: var(--font-size-sm); color: var(--color-neutral-500); margin: var(--space-1) 0 0 0; }
    .showcase-content { padding: var(--space-4); background-color: var(--color-neutral-white); }

    /* --- DEPENDENT ATOMIC COMPONENTS --- */
    .btn { display: inline-flex; align-items: center; justify-content: center; font-weight: var(--font-weight-medium); font-size: var(--font-size-sm); padding: var(--space-2) var(--space-3); border-radius: var(--border-radius-md); text-decoration: none; cursor: pointer; transition: background-color 0.15s ease, border-color 0.15s ease; border: 1px solid transparent; }
    .btn:focus-visible { outline: none; box-shadow: var(--shadow-focus-ring); }
    .btn--primary { background-color: var(--color-primary-700); color: var(--color-neutral-white); border-color: var(--color-primary-700); }
    .btn--primary:hover { background-color: var(--color-primary-800); border-color: var(--color-primary-800); }
    .btn--secondary { background-color: var(--color-neutral-white); color: var(--color-neutral-700); border-color: var(--color-neutral-300); box-shadow: var(--shadow-sm); }
    .btn--secondary:hover { background-color: var(--color-neutral-100); }
    .btn--icon-only { padding: var(--space-2); color: var(--color-neutral-500); background-color: transparent; border-color: transparent; box-shadow: none;}
    .btn--icon-only:hover { background-color: var(--color-neutral-100); }

    /* --- MOLECULAR COMPONENT: CHATTER/LOG AREA --- */
    .chatter {
      background-color: var(--color-neutral-50);
      border-top: 1px solid var(--color-neutral-200);
      padding-top: var(--space-4);
    }

    /* Composer Section */
    .chatter__composer {
      display: flex;
      padding: 0 var(--space-4) var(--space-4);
      gap: var(--space-3);
    }
    .chatter__composer-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: var(--color-neutral-200);
      background-image: url('https://i.pravatar.cc/40?u=admin');
      background-size: cover;
      flex-shrink: 0;
    }
    .chatter__composer-main {
      flex-grow: 1;
      border: 1px solid var(--color-neutral-300);
      border-radius: var(--border-radius-lg);
      background-color: var(--color-neutral-white);
      box-shadow: var(--shadow-sm);
    }
    .chatter__composer-input {
      width: 100%;
      padding: var(--space-3);
      border: none;
      border-bottom: 1px solid var(--color-neutral-200);
      border-radius: var(--border-radius-lg) var(--border-radius-lg) 0 0;
      font-family: var(--font-family-primary);
      font-size: var(--font-size-sm);
      resize: vertical;
      min-height: 80px;
    }
    .chatter__composer-input:focus {
      outline: none;
    }
    .chatter__composer-actions {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      padding: var(--space-2);
      gap: var(--space-3);
    }
    .chatter__composer-options {
      display: flex;
      align-items: center;
      gap: var(--space-2);
    }

    /* Thread Section */
    .chatter__thread {
      padding: 0 var(--space-4);
    }
    .chatter__message {
      display: flex;
      padding: var(--space-4) 0;
      gap: var(--space-3);
      border-top: 1px solid var(--color-neutral-200);
    }
    .chatter__message-avatar {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background-color: var(--color-neutral-200);
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background-size: cover;
    }
    .chatter__message-avatar--user {
        background-image: url('https://i.pravatar.cc/36?u=manager');
    }
    .chatter__message-avatar--system svg {
        width: 20px;
        height: 20px;
        color: var(--color-neutral-500);
    }
    .chatter__message-main {
      flex-grow: 1;
      min-width: 0;
    }
    .chatter__message-header {
      display: flex;
      align-items: center;
      flex-wrap: wrap;
      gap: var(--space-2);
      margin-bottom: var(--space-1);
    }
    .chatter__message-author {
      font-weight: var(--font-weight-semibold);
      font-size: var(--font-size-sm);
    }
    .chatter__message-time {
      font-size: 12px;
      color: var(--color-neutral-500);
    }
    .chatter__message-body {
      font-size: var(--font-size-sm);
      line-height: 1.5;
      word-wrap: break-word;
      color: var(--color-neutral-700);
    }
    .chatter__message-body p:last-child {
      margin-bottom: 0;
    }
    .chatter__message-body a {
        color: var(--color-primary-700);
        font-weight: var(--font-weight-medium);
        text-decoration: none;
    }
    .chatter__message-body a:hover {
        text-decoration: underline;
    }

    /* Log Note Variant */
    .chatter__message--log {
      background-color: var(--color-neutral-100);
      margin: 0 calc(-1 * var(--space-4));
      padding: var(--space-3) var(--space-4);
    }
    .chatter__message--log .chatter__message-body {
      color: var(--color-neutral-700);
    }
    .chatter__message--log .chatter__message-body ul {
        margin: var(--space-2) 0 0 0;
        padding-left: var(--space-4);
        list-style-type: '✓  ';
    }
     .chatter__message--log .chatter__message-body li {
        padding-left: var(--space-2);
        color: var(--color-semantic-success);
     }
    .chatter__message--log .chatter__message-body li strong {
        font-weight: var(--font-weight-medium);
        color: var(--color-neutral-700);
    }

    /* Attachments Variant */
    .chatter__attachments {
      margin-top: var(--space-3);
      display: flex;
      flex-direction: column;
      gap: var(--space-2);
    }
    .attachment-item {
      display: inline-flex;
      align-items: center;
      background-color: var(--color-neutral-100);
      border: 1px solid var(--color-neutral-200);
      border-radius: var(--border-radius-md);
      padding: var(--space-2);
      font-size: var(--font-size-sm);
    }
    .attachment-item__icon { width: 24px; height: 24px; flex-shrink: 0; margin-right: var(--space-2); color: var(--color-neutral-500); }
    .attachment-item__info { flex-grow: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .attachment-item__name { font-weight: var(--font-weight-medium); color: var(--color-neutral-900); }
    .attachment-item__actions { display: flex; align-items: center; gap: var(--space-1); margin-left: var(--space-2); }
    
    /* Activities Variant */
    .chatter__activities {
      background-color: var(--color-primary-50);
      padding: var(--space-3) var(--space-4);
      border-top: 1px solid var(--color-neutral-200);
    }
    .chatter__activities p {
        margin: 0 0 var(--space-2) 0;
        font-weight: var(--font-weight-medium);
        font-size: var(--font-size-sm);
        color: var(--color-primary-800);
    }
    .chatter__activities-list { display: flex; flex-direction: column; gap: var(--space-3); }
    .activity-item { display: flex; align-items: flex-start; gap: var(--space-2); background-color: var(--color-neutral-white); padding: var(--space-3); border-radius: var(--border-radius-md); border: 1px solid var(--color-primary-100); }
    .activity-item__icon { flex-shrink: 0; color: var(--color-semantic-warning); }
    .activity-item__main { flex-grow: 1; }
    .activity-item__title { font-weight: var(--font-weight-medium); font-size: var(--font-size-sm); }
    .activity-item__deadline { font-size: 12px; color: var(--color-semantic-error); font-weight: var(--font-weight-medium); }
    .activity-item__assignee { font-size: 12px; color: var(--color-neutral-500); }
    .activity-item__actions { margin-top: var(--space-2); display: flex; gap: var(--space-2); }

    /* Responsive Adaptations */
    @media (max-width: 768px) {
      .chatter__composer-actions {
        flex-direction: column;
        align-items: stretch;
      }
      .chatter__composer-options {
        justify-content: flex-start;
      }
    }
  </style>
</head>
<body>

  <div class="showcase">
    <div class="showcase-header">
      <h2>Chatter / Log Area</h2>
      <p>A molecular component for user comments, system logs, attachments, and activities.</p>
    </div>
    <div class="showcase-content">
      <div class="chatter">
        <div class="chatter__composer">
          <div class="chatter__composer-avatar" title="Admin User"></div>
          <div class="chatter__composer-main">
            <textarea class="chatter__composer-input" placeholder="Send a message to followers..."></textarea>
            <footer class="chatter__composer-actions">
              <div class="chatter__composer-options">
                <button class="btn btn--secondary">Send message</button>
                <button class="btn btn--secondary">Log note</button>
              </div>
              <div class="chatter__composer-options">
                <button class="btn btn--icon-only" aria-label="Attach file">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path></svg>
                </button>
                <button class="btn btn--icon-only" aria-label="Schedule activity">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"></path><polyline points="12 6 12 12 16 14"></polyline></svg>
                </button>
              </div>
            </footer>
          </div>
        </div>
        <div class="chatter__thread">
          <!-- User message with attachment -->
          <article class="chatter__message">
            <div class="chatter__message-avatar chatter__message-avatar--user" title="Dispatch Manager"></div>
            <div class="chatter__message-main">
              <header class="chatter__message-header">
                <span class="chatter__message-author">Dispatch Manager</span>
                <span class="chatter__message-time">2 hours ago</span>
              </header>
              <div class="chatter__message-body">
                <p>Please find the updated Proof of Delivery attached. The customer has signed off.</p>
                <div class="chatter__attachments">
                  <div class="attachment-item">
                    <div class="attachment-item__icon">
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
                    </div>
                    <div class="attachment-item__info">
                      <div class="attachment-item__name">POD_TRIP123_signed.pdf</div>
                    </div>
                    <div class="attachment-item__actions">
                        <button class="btn btn--icon-only" aria-label="Download attachment">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                        </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </article>
          <!-- System log message -->
          <article class="chatter__message chatter__message--log">
            <div class="chatter__message-avatar chatter__message-avatar--system" title="System">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path></svg>
            </div>
            <div class="chatter__message-main">
              <header class="chatter__message-header">
                <span class="chatter__message-author">System</span>
                <span class="chatter__message-time">8 hours ago</span>
              </header>
              <div class="chatter__message-body">
                Trip stage changed
                <ul>
                  <li><strong>Status:</strong> Assigned → In-Transit</li>
                </ul>
              </div>
            </div>
          </article>
          <!-- Simple user message -->
          <article class="chatter__message">
            <div class="chatter__message-avatar chatter__message-avatar--user" title="Dispatch Manager"></div>
            <div class="chatter__message-main">
              <header class="chatter__message-header">
                <span class="chatter__message-author">Dispatch Manager</span>
                <span class="chatter__message-time">1 day ago</span>
              </header>
              <div class="chatter__message-body">
                <p>Driver <a href="#">John Doe</a> and Vehicle <a href="#">MH12AB1234</a> have been assigned to this trip.</p>
              </div>
            </div>
          </article>
        </div>
      </div>
    </div>
  </div>

  <div class="showcase">
    <div class="showcase-header">
      <h2>Component Variations</h2>
    </div>
    <div class="showcase-content">
      <div>
        <h3>Variant Name: "with_attachments"</h3>
        <p>The standard chatter view includes the ability to send messages, log internal notes, and attach files. The thread displays user comments, system logs, and downloadable attachments.</p>
        <!-- The component above is already the primary demonstration of this variant -->
      </div>
      <div style="margin-top: var(--space-6);">
        <h3>Variant Name: "with_activities"</h3>
        <p>This variant includes an additional section for managing and viewing scheduled activities, such as follow-up calls or tasks, related to the record.</p>
        <!-- Variant HTML -->
        <div class="chatter">
            <div class="chatter__composer">
                <!-- ... composer from above ... -->
            </div>
            <div class="chatter__activities">
                <p>Next Activities</p>
                <div class="chatter__activities-list">
                    <article class="activity-item">
                        <div class="activity-item__icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>
                        </div>
                        <div class="activity-item__main">
                            <div class="activity-item__title">Follow-up Call</div>
                            <div class="activity-item__deadline">Due in 2 days</div>
                            <div class="activity-item__assignee">Assigned to: Admin User</div>
                            <div class="activity-item__actions">
                                <button class="btn btn--secondary" style="padding: 4px 8px; font-size: 12px;">Mark Done</button>
                                <button class="btn btn--secondary" style="padding: 4px 8px; font-size: 12px;">Edit</button>
                            </div>
                        </div>
                    </article>
                </div>
            </div>
            <div class="chatter__thread">
                <!-- ... thread from above ... -->
            </div>
        </div>
      </div>
    </div>
  </div>

</body>
</html>