.ini
[pytest]
# This file configures the behavior of the pytest runner.
# It's used to set up Odoo-specific testing options.

addopts = --test-enable -s --maxfail=1

# Odoo Test Configuration
# --test-enable: Enables Odoo's test mode.
# -s: Shows print statements in the console (useful for debugging tests).
# --maxfail=1: Stops the test run after the first failure.
# --db_host: Database host (can be overridden by environment variables).
# --db_user: Database user.
# --db_password: Database password.
# --database: Test database name.
# --xmlrpc-port: Port for Odoo's XML-RPC interface during testing.

# Use environment variables for sensitive data, but provide defaults if needed.
# These will be set by the CI workflow.
# db_host = localhost
# db_user = odoo
# db_password = myodoo-password
# test_database = tms_test_ci

# Coverage configuration for pytest-cov
# We specify the module to cover and the report formats.
[coverage:run]
source = tms_core

[coverage:report]
# Fail if coverage is under the specified percentage.
# This check is performed explicitly in the CI script for better visibility.
# fail_under = 80
show_missing = True
skip_covered = True
exclude_lines =
    pragma: no cover
    def __repr__
    if self.debug:
    if __name__ == .__main__.:
    raise NotImplementedError

[coverage:html]
directory = coverage_html_report